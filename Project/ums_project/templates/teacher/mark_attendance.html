<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mark Attendance</title>
</head>

<body>
    <h2>Mark Attendance</h2>

    <form method="POST">
        {% csrf_token %}

        <button type="button" onclick="selectAll()">Select All</button>

        <table border="1">
            <tr>
                <th>Student</th>
                <th>Present</th>
            </tr>

            {% for s in students %}
            <tr>
                <td>{{ s.username }}</td>
                <td>
                    <input type="checkbox" name="{{ s.id }}" class="box">
                </td>
            </tr>
            {% endfor %}
        </table>

        <button type="submit">Submit</button>
    </form>

    <script>
        function selectAll() {
            document.querySelectorAll('.box')
                .forEach(cb => cb.checked = true);
        }
    </script>
    {% if messages %}
    {% for m in messages %}
    <p style="color:green">{{ m }}</p>
    {% endfor %}
    {% endif%}
</body>

</html>